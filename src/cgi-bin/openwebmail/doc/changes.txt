08/22/2001
----------
1. remove absolution position directive in <div> tag 
   when displaying html attachment
2. fix a bug that can not parse out messages with some 'From xxx' line 
   properly
   (reported by Ted TSUI, ted@gennet.com.tw)


08/21/2001
----------
1. fix the BIG5/GB conversion failure on linux
2. polish language and templates translation update
   (thanks to Pawel Jablonski, jablonski@dialogok.pl)


08/17/2001
----------
1. chinese GB language and templates translation
   (thanks to Wang Jun, wjun@mail.iap.ac.cn)


08/16/2001 (version 1.40)
----------
1. a new mirror site is setup at http://www.geocities.com/openwebmail/
   (Thanks to Emir Litric, elitric@hotmail.com)
2. fix the bug that imageset is set to 'default' at login no matter what 
   user presference setting is.
   (reported by Emir Litric, elitric@hotmail.com)
3. guess real homedir under /export to avoid automount on localhost
   correct the weekday abbreviation of tuesday and wensday
   (thanks to Dugal James P., jpd@louisiana.edu)
4. clear path in vacation.pl to make it suitable for smrsh



08/06/2001
----------
1. fix the 'password change' failure on system using MD5 encryption


08/05/2001
----------
1. record the failure of login in histroy
2. better support for chinese Big5 <-> GB convertion


08/04/2001
----------
1. add option 'Image set' in user preference.


08/03/2001
----------
1. fix a bug when downloading a message with strage subject
   (reported by Dugal James P., jpd@louisiana.edu)
2. add option 'disallowed_pop3servers' to openwebmail.conf
   (thanks to Dugal James P., jpd@louisiana.edu for his patch)


08/02/2001
----------
1. portuguese language and templates translation
   (thanks to Jos Ferradeira, jferra@sfconsultores.pt)


07/30/2001
----------
1. add [change password] button to user preference.
2. add [login hostory] button to user preference. this enable user to check if
   soemone else is hacking his mail account.
3. support BIG5 <-> GB converting in message reading


07/28/2001
----------
1. PAM support (from Nikolay Pelov, nikip@iname.com,
                http://www.cs.kuleuven.ac.be/~pelov/pam/FAQ.html)
   DST(day saving time) automated adjustment 
   internal message detection of subject created by Solaris dtmail 
   fix to openwebmail.conf $passwdfile for NIS+ password 
   prefix /export to user $homedir for sun automounter
   change default trash folder cleanup interval to 7 days
   use ~/.signature instead of ~/mail/.signature if it exists
   (thanks to Dugal James P., jpd@louisiana.edu for his great patch for all the above)
2. move authentication related functions into auth.pl
3. add option 'background image url' to user preference
   (thanks to Bhaskar Manda, bhaskar_manda@yahoo.com)


07/27/2001
----------
1. add many fancy styles.
   (thanks to Emir Litric, elitric@hotmail.com)


07/26/2001
----------
1. spanish language and templates translation 
   (thanks to Félix Martos, pakito@asinkecualo.org)


07/23/2001
----------
1. fix the bug that the fromname could be set but not used when 
   $set_fromname='yes'
   (reported by Edward Ping-Da Chuang, edwardc@tigers.idv.tw)
   (thanks to Steve Hardy, s.a.hardy@connectux.com for his fix)


07/22/2001
----------
1. swedish language and templates translation 
   (thanks to Goran Jartin, tryfan@telia.com)


07/21/2001
----------
1. fix the strange layout problem in Mac with IE browser.
   (reported by Goran Jartin, tryfan@telia.com)


07/20/2001
----------
1. minor fix to maildb.pl to handle multipart attblock with no boundary 
   specfied in attblock header 
   This eliminate the "Not an ARRAY reference at maildb.pl line xxxx" error
   (reported by Administrador de Sistemas Unix, master@xanum.uam.mx)


07/19/2001
----------
1. minor fix to pop3mail.pl to increase the compatibility with some broken 
   pop3d which returns uidl without leading '+'.


07/18/2001
----------
1. fix minor bug in mailfilter.pl that moves mails from localhost 
   into trash folder 


07/16/2001
----------
1. minor fix to mailfilter.pl to trust mails delivered from private ip.
2. fix the javascript CheckAll() malfunction problem on mozilla browser
   (thanks to Sylvain COTINEAU, xorne@topfinance.com for his fix)


07/14/2001
----------
1. fix the 'message is gone' error caused by clicking 'Block SMTP Relay'


07/13/2001
----------
1. fix a bug that newly created folder won't be displayed immediately
   (reported by Carlos Pina Soares, cps@fcsh.unl.pt)
2. fix the 'undefined subroutine ..." error when checkmail.pl option -i is used
3. minor fix to handle .csv addressbook with semicolon separated values
4. dutch language and templates translation
   (thanks to Christian Boer, chris@connectux.com)


07/12/2001 (version 1.32)
----------
1. display useremail and folder quota usage in web page title


07/09/2001
----------
1. fix a little bug related to email address in pop3 book 
   (reported by Emir Litric, elitric@hotmail.com)
2. display the total folders space usage when mouse is over 'folders' icon 
   if folderquota is set.


07/08/2001
----------
1. fix the 'ndbm store returned -1.." empty key error
   (reported by Justin Frydman, jfrydman@swiftbiz.ca and 
    John McKay, john@eddystone.net)   


07/05/2001
----------
1. add a sign-up package 'useraddbyweb.tar.gz' to contrib/
   (contributed by to Nimrod Zimerman, zimerman@mailandnews.com and 
    Nimrod S. Carmi, simba@schoolsucks.com)   
2. fix a bug that displays session timeout warning immediately 
   after successful login when using netscape 4.04
   (reported by Fr. Visminlu Vicente L. Chua, S.J., chuavv@mail.savs.hcc.edu.tw)   


07/04/2001
----------
1. fix a bug that creates ~user/.forward, ~user/.vacation.msg and mail spool
   with owner=root if both homedirspools and homedirfolders are set to 'no'
   (reported by karun@mail2000.com.tw)
2. italian language and templates translation
   (thanks to Benedet Marvi, i3100579@ingstud.univ.trieste.it)
3. add check for newmessages and allmessages count for non-negative value


07/03/2001
----------
1. rewrite checkmail.pl. It supports newmail check, pop3 prefetching and 
   folder index verification now.
   The sysadm can use 'checkmail.pl -p -a' in crontab to prefetch pop3
   mail for the user.
2. fix a bug that returns wrong content when a message is not found 
   in folder


07/02/2001
----------
1. add RedHat-README.txt to doc/
   (contributed by Emir Litric, elitric@hotmail.com)


06/29/2001
----------
1. fix a bug that treat lines starting with 'From ' as start of a new message


06/28/2001
----------
1. dutch language translation
   (thanks to Michiel van Slobbe, m.m.vanslobbe@connectux.com)


06/27/2001
----------
1. recalculate used quota after operations that change the size of folders
2. fix a bug that won't clear related db when genericstables is deleted


06/26/2001
----------
1. fix a bug that won't parse out attachment correctly in rare cases
2. fix a bug that searchtype will be restored to 'subject' after any message is
   moved or copied from current folder
3. italian language translation
   (thanks to Benedet Marvi, i3100579@ingstud.univ.trieste.it)


06/23/2001 (version 1.31)
----------
1. use a new window instead of alert dialog to display the session timeout 
   warning. Thus the window could be closed automatically when session is end.


06/22/2001
----------
1. display a warning "session will be ended within 60 seconds" to user
   before a session is timeout-ed
2. support login alias in checkmail.pl. 
   If checkmail.pl is used with fingerd, then user can get the mail status
   by 'finger virtualuser@virtualhost'


06/21/2001
----------
1. fix a bug that creates .forward and .vacation.msg in / 
   instead of user homedir when homespooldir and homefolderdir is not enables
   (reported by Emir Litric, elitric@hotmail.com)


06/20/2001
----------
1. fix a bug that won't fetch the first one message from pop3 server
   in some case
   (reported by Jrgen Meurer, meurer@bad-gmbh.de)


06/19/2001 
----------
1. fix pop3 retrieval problem on NT exchange server.
   (reported by jerry@email.wtuc.edu.tw)
2. fix a bug that resets the autoreply message to default when
   setting user preference
   (reported by Emir Litric, elitric@hotmail.com)
3. chinese GB language and templates translation
   (thanks to Wang Jun, wjun@mail.iap.ac.cn)
4. Login alias/mapping support
   (thanks to Russ Reese, russ@zerotech.net for his patch code)


06/18/2001 (version 1.30)
----------
1. add support for auto reply.
   Mails from same user within 60 seconds will be replied only once.
2. add support for sendmail genericstable 
3. fix a bug that some subject will ends with a> in folderview
   (reported by zmx.bbs@BirdNest.infoX.Net)
4. fix a bug that the attfilename won't be displayed correctly for mails 
   sent from program pine.


06/14/2001
----------
1. fix minor error in sendmessage which sets $from value in dbm to $to
   when storing message backup to SENT folder
2. german language and templates translation
   (thanks to Andreas Roedl, flood@flood-net.de)
3. minor fix to displayheader to solve the delay problem on some 
   platform, eg: linux RedHat6.2/CLE0.9
   (reported by hsienhsi@mail.yces.chc.edu.tw)


06/13/2001 (version 1.22)
----------
1. use new 3D icons instead of the original flat icons.
   (thanks to Emir Litric, elitric@hotmail.com, for his grea work of art!!!)
2. spanish language and templates translation
   (thanks to Félix Martos, pakito@asinkecualo.org)
3. german language translation
   (thanks to Andreas Roedl, flood@flood-net.de)
4. fix .pop3.book open error when pop3book size=0
   (reported by kwang@mail.cgjh.tcc.edu.tw)
5. fix a bug in javascript routine 'spellcheck' in compose template
   (thanks to Antony Street, antony@vigen.com.au)
6. fix a color bug when displaying message/rfc822 header


06/12/2001
----------
1. fix .pop3.book open error when editing pop3book at first time
   (thanks to Emir Litric, elitric@hotmail.com)
2. change session control from 'per host' to 'per user'.
   This means a user can login openwebmail with different ids at the 
   same time from same client.
3. the from address used in replying to a receipt request will depend
   on the receiver whom the message was deliver to


06/11/2001 (version 1.21)
----------
1. add support for multiple from address.
   Each pop3 account can set a from address now and these from addresses 
   can be used as from address when composing message
2. count INBOX size for mail quota now
3. prompt a confirm window before doing emptytrash


06/09/2001
----------
1. composemessage checks to, cc and bcc when the user press 'send' button,
   if none of them is specified, the message won't be sent.
   A confirm window will also appears if no subject is specified.
2. [spell check] button has the same shape as others in netscape on 
   unix platform


06/07/2001 (version 1.20)
----------
1. add support for spelling check in message composing.
   This spelling check is base on the code of WBOSS 
   (http://www.dontpokebadgers.com/spellchecker/, 2001, Joshua Cantara)


06/06/2001
----------
1. fix a bug that when clicking a email in global addressbook to enter the
   message editing menu, the 'To' field will be empty.
   (thanks to karun@mail2000.com.tw)


06/02/2001
----------
1. change the icons of pop3, pop3setup and logout


06/01/2001 (version 1.15)
----------
1. improve the search function. Messages inside a folder can be searched 
   by sender, receiver, subject, date, filename of attachments, 
   message header, text content or all of the above.
2. temporarily fix download problem in IE5.5 by not sending 
   Content-Disposition header to IE5.5. dirty hack!
3. improve compatibility with pop3 servers that don't support 'uidl' command
4. fix a bug that generates wrong date string for messages fetched from 
   pop3 server
5. fix a bug that strips the blank line between mail header and mail body
   if the message already has an empty 'Status:' line before status updating. 


05/30/2001
----------
1. add 'Hide folder internal data' option to openwebmail.conf and 
   user preference. When this option is enabled, internal messages used by 
   POP3 or IMAP server will be hidden from user.


05/25/2001 (version 1.14)
----------
1. fix a minor layout problem in folderview on konqueror browser
2. fix the 'session never timeout' problem caused by the 'auto refresh'
3. the $folderquota counts both folders and folder indexes now.
   The message operation will be limited to 'delete' only if the quota is hit.


05/18/2001
----------
1. remove foldername dependence from maildb.pl. 
   This eliminates the need of faking 'from' with 'to' in SENT/DRAFT db
   and gives a consistent view when moving messages between SENT/DRAFT folder
   and other folders.

ps: you may remove .saved-drafts.db and .sent-mail.db from all ~user/mail/ 
    to ensure the 2 db will be recreated before being used next time.


05/16/2001
----------
1. minor improvement of mailfilter of smtp relays
2. add option $enable_setfromname to openwebmail.conf.


05/15/2001
----------
1. move 'clean trash by days' from logout to login to ensure it happens.


05/07/2001 (version 1.13)
----------
1. the 'whole message download' is now available by clicking the download
   icon at the end of subject line
2. fix the bug that openwebmail.log will be created with wrong gid.
3. fix a bug of a javascript routine for message move
4. better support for 'confirm reading', it pops up a confirm window
   rather than transmitting the 'read receipt' back to sender silently


05/06/2001
----------
1. spammer message filtering will bypass all messages from machine 
   that belongs to the same domain as the destination mail server
2. add option to user preference that controls the size of text area 
   in mail editing
3. Saving an existing draft back to draft folder will put it into a new draft 
   if it is saved with a different subject


05/05/2001
----------
1. add option 'disable JavaScript inside message' to user preference
   It is used to protect the browser being hijacked by some evil java scripts
   inside a message.
2. change option 'autoemptytrash' in userpreference to 'trash mail reserved days'
   User can set how long a message will live in the mail-trash folder.
   The logout procedure will check the mail-trash and deleted aged messages.


05/04/2001 (version 1.12)
----------
1. support 'export addressbook'
2. fix a bug in parsing recursive message/rfc822
3. add option $enable_pop3 to openwebmail.conf


05/03/2001
----------
1. support 'forward message as an attachment'
2. add 'note field' to addressbook
3. fix minor bug in spammer message filtering
4. better folder summary in 'folder management menu'


05/02/2001
----------
1. fix the replyto bug, the value of replyto field in message editing 
   will override the replyto setting in user preference now.
2. domainname in user preference will be checked if it is one of
   the defined system domainanames.


05/01/2001 (version 1.11)
----------
1. support 'clear addressbook'
2. add option 'filter_fakesmtp' to openwebmail.conf and user preference.
   It is designed to filter messages from spammers in 2 case
   a. spammers relay from a smtp server and that has a invalid hostname
   b. spammers deliver junk messages to you directly with a faked hostname


04/30/2001
----------
1. better body text in message replying/forwarding
2. fix a bug that changes the current message_id after copying the current message
   to other folder.
3. fix a bug related to message/rfc822 attachment


04/28/2001
----------
1. fix a bug of url redirection in logout.
2. clean code. ensure all file locking is done with sub filelock


04/27/2001
----------
1. support filtering of repeated messages. It is useful to filter repeated 
   virus mail from those infected machines.

   An option $repeatlimit is added to user preference and openwebmail.conf.
   Messages at INBOX folder with same subject and from same sender will be 
   treated as repeated messages. If the repeat count is more than 
   $repeatlimit, these repeated messages will be moved to mail-trash. 

2. support 'folder rename' in folder management menu
3. fix security bug in add/delete folder


04/26/2001 (version 1.10)
----------
1. greatly improve the speed of folder view on folders with thousands 
   of messages
2. reduce the memory usage in viewattachment
3. fix a bug that shows 'Can't call method "att" without a package....'
   when adding attachment
4. change the character check of filename and preference to eliminate
   incompatibility with some chinese characters
5. change '$numberofheaders' to '$headersperpage' in openwebmail.conf
6. change the method in finding the smtprelay


04/25/2001
----------
1. support 'download attachment' in message editing
2. add option 'default destination folder' to user preference
   add option 'newmail sound notification' to user preference


04/24/2001 (version 1.09)
----------
1. add option 'autofetch pop3 mail at login' to user preference
   add option 'auto empty trash at logout'   to user preference
2. fix a bug that shows the attribute of plain text message in sent-mail folder
   with a '@' mistakenly.
3. support 'delete attachment' in message editing
4. fix a bug related to 'empty-trash' button


04/23/2001
----------
1. greatly improve the speed of re-indexing in update_headerdb
2. fix a minor bug in filelock_flock
3. index folder at background if folder is large than 10M to avoid
   http timeout


04/20/2001 (version 1.08)
----------
1. code clean for better security
   set_euid_egid_umask as early as possible
2. The name of default folders are the same now for either homefolderdir='yes' 
   or 'no', they are saved-messages, sent-mail, saved-draft and mail-trash
3. move openwebmail/etc/users/user/config    to ~user/mail/.openwebmailrc 
        openwebmail/etc/users/user/signature to ~user/mail/.signature

ps: Reinstallation is recommended for those who upgrade from old version...


04/19/2001
----------
1. code clean for better program structure
   a. change the location for session files and temporary attachments 
      from cgi-bin/openwebmail/etc to cgi-bin/openwebmail/etc/sessions
   b. change items in openwebmail.conf
   c. change get_spoolfile_headerdb to get_folderfile_headerdb


04/18/2001
----------
1. slightly reduce the memory usage in message move/copy/delete
2. preliminary support for group email address


04/17/2001 (version 1.07)
----------
1. DELETE folder can be used as destination in mailfilter
2. support copy operation in mailfilter
3. better sound reminding method for new messages


04/16/2001
----------
1. code clean, put common routine into openwebmail-shared.pl


04/15/2001
----------
1. support copy messages between folders
2. the indexing (update_headerdb) now deletes the duplicated messages 
   in same folder
3. INBOX folder can be used as a destination in message copy/move.


04/14/2001 
----------
1. provide folder download in folder management menu
2. fix a bug that always create DELETE folder when user kills messages


04/13/2001 (version 1.06)
----------
1. add support for saved-drafts folder. the user can save the unfinished
   letters into the saved-drafts folder and continue editing at any 
   time they want.


04/12/2001
----------
1. there are 2 types of search now, 'header only'(default) and 'full content'.
2. show new/total message counts of each folder in folderedit menu.
3. support delete messages from folder directly
4. better forwarding support for html message and message with encoded body


04/11/2001 (version 1.05)
----------
1. fix a bug in sendmessage. When making backup of a sent message to 
   sent folder, it doesn't put a blank line at the end of that message 
   if the message has no attachment.
2. reduce the memory usage when updating the R status to a message
3. fix the bug introduced by the optimization of version 1.04.
   The message forwarding carries the attachments in the original message
   to the new message and the headers of these attachments are correct now.


04/10/2001
----------
1. add $use_dotlockfile to openwebmail.conf to support using dot lockfile
   for files located on remote NFS servers. This is recommended only if the 
   lockd on NFS server or client has problems
ps: FreeBSD/Linux NFS server/client may need this. Solaris doesn't.
ps: This dotlock routine has not been tested under heavy load yet...

2. add support to filter mails relayed from a specific 'SMTP Relay'


04/09/2001
----------
1. add $global_addressbook and $global_filterbook to openwebmail.conf 
   to support global addressbook/filterrule
2. refresh every 15 minute if in INBOX folderview
   notify user with sound if new mail found


04/07/2001
----------
1. message move in folderview will check if any message is selected 
   before showing up the confirm window
2. the prompt of folder delete confirmation will contain the foldername now.
3. fix a bug in adding attachment without pressing add button


04/06/2001 (version 1.04)
----------
1. The message parser is heavily reconstructed.
   The memory footprint of readmessage is much smaller than before.
2. The memory usage of sendmessage is greatly reduced.
3. fix minor bug related to "searchid" 


04/05/2001
----------
1. fix "the message is gone" problem introduced by the patch
   at 04/04/2001
2. fix a bug in content search, which makes the search cache always miss


04/04/2001
----------
1. further reduce the memory usage of attachment handling.


04/02/2001 (version 1.03)
----------
1. reduce the memory usage when 
   a. uploading a large attachment
   b. reading message with large attachments
2. use MIME::Base64 module with XS support to speed up the 
   encoding/decoding of attachments
3. fix 3DGENERATOR> bug when forwarding a message with attachments
4. fix ~openwebmail/etc mode, it should be 770


03/17/2001
----------
1. zero message count immediately when mail-trash is emptied
2. 'confirm reading' receipt is changed to a more informative style.
3. a shell command 'checkmail.pl' is provided.
   It does mail filtering first, ignores those internal messages used
   by POP/IMAP server and then reports if a user has new mail or not.


03/15/2001 (version 1.02)
----------
1. change name to 'Open WebMail'
2. fix bug related to from attribute
3. add 'confirm reading' support
4. for better compatibility with pine(an unix email reader):
   user folderdir is changed from ~/neomail to ~/mail
   folder saved_messages is changed to saved-messages
   folder sent_mail      is changed to sent-mail
   folder neomail_trash  is changed to mail-trash

ps. a script migrate.pl is provided for administer 
    to migrate user folders from neomail easily


03/11/2001 (version 1.01)
----------
1. add 'sort by status (unread first)'
2. fix date sort bug
3. add a global variable in $homedirfolderdirname neomail.conf
   to specify the folderdir used in user homedir.
4. support charset in CGI.pm version > 2.57 


03/02/2001 (version 1.00)
----------
1. change name to 'Neomail Professional 1.00'
2. mail filter support
3. minor correction to mime mail parsing
4. change the default location for addressbook, pop3book and filterbook 
   from prefsdir to the homedir of each user
5. show new/total message counts for each folder in the folder popup menu


02/20/2001
----------
1. pop3 mail support
2. put pop3 fetching into background if it takes more than 10 second
   to avoid http timeout


11/06/2000
----------
1. minor change of display of message/rfc822 attachment
2. minor change of display of message forward/reply
3. always convert uuencode block into attachment when forwarding
4. fix permission problem in creating files


10/31/2000
----------
1. minor speedup for search and movemessage


10/26/2000
----------
1. rewrite message parsing routines for complex mime messages
2. rewrite layout routine for complex mime messages
3. provide download link of the raw format of message


10/24/2000
----------
1. add support for uuencode blocks inside a text/plain mail
2. add support for addressbook insert at readmessage
3. minor speedup for readmessage and viewattachments
4. better contenttype support
5. fix search routine for messages with mime attachments
6. code clean


10/20/2000
----------
1. better support for mime message display (almost the same as outlook)
2. add support for unlimited levels of attachments
3. add support for links to attachments with content-id or content-location
4. merge in content-disposition patch from neomail-1.20


10/15/2000
----------
1. change all nonblocking lock to a timeout-limited blocking lock
2. improve speed of sort
3. improve speed of readmessage


10/02/2000
----------
Since basically I have a different point of view for programming than 
Ernie, I decide to put my modification to a new version --- neomail 1.14+

1. add support for full content search
2. improve speed of movemessage
3. fix bugs on Solaris


09/28/2000
----------
Ernie merged my code into neomail 1.20


09/22/2000
----------
greatly speedup movemessage/updatestatus with shiftblock routine
submit the patch to Erine


09/18/2000
----------
use dbm to store the parsed result of mail folder 
greatly speedup getheaders/readmessages by using of dbm
submit the patch to Erine


09/14/2000
----------
first test-drive of the original neomail 1.14
